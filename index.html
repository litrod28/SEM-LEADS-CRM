<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>CRM PORTAL SEM</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    /* --- Background: Blurred translucent glass inspired by 2nd image --- */
    body {
      margin: 0;
      font-family: 'SF Pro Display', 'Segoe UI', Arial, sans-serif;
      min-height: 100vh;
      overflow-x: hidden;
      position: relative;
      /* Background image with light pastel gradient and blur */
      background-image:
        url('https://images.unsplash.com/photo-1506744038136-46273834b3fb?fit=crop&w=1200&q=80'),
        linear-gradient(112deg, #ffddb4 0%, #fcd5eb 45%, #ffe7cd 100%);
      background-repeat: no-repeat;
      background-position: center;
      background-size: cover;
      /* Overlay translucent pinkish layer */
      background-blend-mode: overlay;
    }
    /* Overlay for stronger blur effect on background */
    body::before {
      content: '';
      position: fixed;
      inset: 0;
      background: rgba(238, 178, 210, 0.36);
      backdrop-filter: blur(32px) saturate(110%);
      -webkit-backdrop-filter: blur(32px) saturate(110%);
      pointer-events: none;
      z-index: -1;
    }

    /* --- Main Glass Container with stronger blur and brightness --- */
    .glass-container {
      background: rgba(255, 255, 255, 0.32);
      backdrop-filter: blur(60px) saturate(140%);
      -webkit-backdrop-filter: blur(60px) saturate(140%);
      box-shadow:
        0 8px 48px 0 rgba(84, 98, 255, 0.10),
        0 2px 8px 0 rgba(200, 200, 220, 0.12) inset;
      border-radius: 36px;
      border: 1.2px solid rgba(255, 255, 255, 0.19);
      margin: 30px auto;
      padding: 40px 56px;
      max-width: 550px;
      animation: fadeInUp 1.3s cubic-bezier(0.22, 1, 0.36, 1);
      position: relative;
      z-index: 10;
    }

    /* Rest of your original styles unchanged ... */

    @keyframes fadeInUp {
      0% {
        opacity: 0;
        transform: translateY(48px);
      }
      100% {
        opacity: 1;
        transform: translateY(0);
      }
    }
    .glass-glow:hover,
    .glass-glow:focus,
    .nav-tab.selected {
      box-shadow: 0 0 12px #94eaff, 0 0px 32px #73b0f9;
      border-color: rgba(180, 200, 255, 0.29);
      transition: box-shadow 0.24s cubic-bezier(0.71, 1.77, 0.74, 1.21);
    }
    h1 {
      font-size: 2.1rem;
      text-align: center;
      background: linear-gradient(120deg, #2e7bf7 60%, #62ffe4 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 32px;
      font-weight: 900;
      letter-spacing: 1.5px;
    }
    /* --- Login Form UI --- */
    .form-box {
      display: flex;
      flex-direction: column;
      gap: 18px;
    }
    .form-box input,
    .form-box select,
    .form-box textarea {
      background: rgba(255, 255, 255, 0.42);
      padding: 14px 16px;
      margin-bottom: 10px;
      border-radius: 16px;
      border: none;
      outline: none;
      font-size: 1.04rem;
      box-shadow: 0 2px 12px 0 rgba(66, 78, 104, 0.09) inset;
      transition: box-shadow 0.2s, background 0.2s;
    }
    .form-box input:focus,
    .form-box textarea:focus,
    .form-box select:focus {
      box-shadow: 0 0 0 2px #acf5fa;
      background: rgba(242, 252, 255, 0.66);
    }
    .primary-btn {
      background: linear-gradient(90deg, #45e1f2 16%, #2980fa 100%);
      color: #fff;
      font-weight: bold;
      padding: 12px 3vw;
      border-radius: 18px;
      border: 0;
      cursor: pointer;
      font-size: 1.08rem;
      box-shadow: 0 2px 12px 0 #b3effd96;
      transition: background 0.18s, box-shadow 0.17s;
    }
    .primary-btn:hover {
      background: linear-gradient(92deg, #1f92fc 40%, #22ddd7 90%);
      box-shadow: 0 4px 16px #75c8fada;
    }

    /* Welcome Popup */
    .welcome-popup {
      position: fixed;
      left: 50%;
      top: 20%;
      transform: translateX(-50%);
      min-width: 260px;
      background: rgba(255, 255, 255, 0.69);
      backdrop-filter: blur(24px);
      border-radius: 22px;
      box-shadow: 0 4px 20px #0404061c;
      padding: 36px 42px;
      font-size: 1.24rem;
      font-weight: 600;
      color: #2991ef;
      text-align: center;
      z-index: 888;
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.65s;
    }
    .welcome-popup.show {
      opacity: 1;
      pointer-events: all;
      animation: popAnim 1.15s cubic-bezier(0.31, 0.97, 0.78, 1.12);
    }
    @keyframes popAnim {
      0% {
        opacity: 0;
        transform: translate(-50%, 40%) scale(0.75);
      }
      45% {
        opacity: 1;
        transform: translate(-50%, 0) scale(1.1);
      }
      100% {
        opacity: 1;
        transform: translate(-50%, 0) scale(1);
      }
    }

    /* Tab navigation & Panels */
    .tab-nav {
      display: flex;
      gap: 22px;
      margin-bottom: 30px;
      justify-content: flex-start;
    }
    .nav-tab {
      background: rgba(225, 253, 255, 0.46);
      color: #1e66f1;
      border: none;
      border-radius: 16px 16px 0 0;
      padding: 10px 32px 12px 32px;
      font-size: 1.08rem;
      font-weight: 600;
      margin-right: 0;
      cursor: pointer;
      margin-bottom: -4px;
      position: relative;
      z-index: 2;
      transition: box-shadow 0.25s, color 0.12s;
    }
    .nav-tab.selected {
      background: #fff;
      color: #0a2373;
    }
    .panel {
      background: rgba(253, 255, 255, 0.88);
      border-radius: 0 0 24px 24px;
      box-shadow: 0 1.5px 4px 0 #a9d3fa1e;
      padding: 34px 19px 21px 13px;
      animation: fadeInUp 1.1s cubic-bezier(0.52, 1.27, 0.44, 1.22);
      min-height: 340px;
    }
    /* Header, Logout and User Display */
    .header-bar {
      width: 100%;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding-bottom: 12px;
      margin-bottom: 16px;
    }
    .user-name {
      color: #1f8cff;
      font-weight: 700;
      letter-spacing: 1px;
      font-size: 1.1rem;
      background: rgba(225, 255, 255, 0.48);
      border-radius: 14px;
      padding: 6px 14px;
      box-shadow: 0 4px 12px #aaf0fac2;
    }
    .logout-btn {
      border: none;
      background: rgba(255, 108, 108, 0.19);
      color: #f22;
      border-radius: 13px;
      letter-spacing: 0.8px;
      font-size: 1rem;
      font-weight: 500;
      margin-left: 21px;
      padding: 7px 18px;
      cursor: pointer;
      transition: background 0.17s;
    }
    .logout-btn:hover {
      background: #ffd2d2;
      color: #b61e1e;
    }

    /* --- Data Tables --- */
    table {
      width: 97%;
      border-collapse: collapse;
      background: rgba(255, 255, 255, 0.76);
      margin: 14px auto 0 auto;
    }
    th,
    td {
      padding: 9px 15px;
      border-bottom: 1.5px solid #e6f0f8;
      text-align: left;
      font-size: 1.01rem;
    }
    th {
      background: linear-gradient(87deg, #e8fafd 64%, #e9f2ff 100%);
      color: #186eda;
      font-weight: 600;
      letter-spacing: 0.5px;
    }
    tr:last-child td {
      border-bottom: none;
    }
    /* Toggle/Field glow on hover */
    input:hover,
    select:hover,
    textarea:hover,
    .glass-glow:focus {
      box-shadow: 0 0 14px #85e5ff;
      background: rgba(248, 255, 255, 0.72);
    }
    /* Mobile responsiveness */
    @media (max-width: 700px) {
      .glass-container {
        padding: 8vw 4vw;
        max-width: 97vw;
      }
      .tab-nav {
        gap: 8px;
      }
      .nav-tab {
        padding: 10px 10px;
      }
    }
  </style>
</head>
<body>
  <div id="popup" class="welcome-popup"></div>
  <div class="glass-container" id="main-container">
    <h1>CRM PORTAL SEM</h1>
    <div id="login-page">
      <form class="form-box" id="login-form" autocomplete="off">
        <input
          class="glass-glow"
          type="text"
          id="login-username"
          placeholder="User Name"
          required
          autofocus
        />
        <input
          class="glass-glow"
          type="password"
          id="login-password"
          placeholder="Password"
          required
        />
        <button class="primary-btn glass-glow" type="submit">Login</button>
      </form>
    </div>
    <div id="app-page" style="display: none"></div>
  </div>
  <script>
    // --- User/Role Data ---
    const USERS = [
      { username: 'sushant', password: 'sush@123', role: 'user' },
      { username: 'gaurav', password: 'gaurav@123', role: 'user' },
      { username: 'yash', password: 'yash@123', role: 'user' },
      { username: 'shikha', password: 'shikha@123', role: 'user' },
      { username: 'tripti', password: 'tripti@123', role: 'user' },
      { username: 'anshi', password: 'anshi@123', role: 'user' },
      { username: 'SEM', password: 'semops@123', role: 'sem' },
      { username: 'developer', password: 'dev041228', role: 'developer' }
    ];
    const USERNAMES = USERS.map((u) => u.username);

    // --- Local Storage Data Handling ---
    function getData(key) {
      return JSON.parse(localStorage.getItem(key) || '[]');
    }
    function setData(key, val) {
      localStorage.setItem(key, JSON.stringify(val));
    }

    // --- State ---
    let currentUser = null;
    let leadsDB = getData('leads');
    let followupsDB = getData('followups');

    // Welcome Popup Utility
    function showPopup(msg) {
      const pop = document.getElementById('popup');
      pop.innerText = msg;
      pop.classList.add('show');
      setTimeout(() => pop.classList.remove('show'), 1000);
    }

    // ---- Login Logic ----
    document.getElementById('login-form').onsubmit = function (e) {
      e.preventDefault();
      const uname = document.getElementById('login-username').value.trim();
      const upass = document.getElementById('login-password').value.trim();
      const u = USERS.find((x) => x.username === uname && x.password === upass);
      if (u) {
        currentUser = { ...u };
        document.getElementById('login-page').style.display = 'none';
        showPopup(`Welcome, ${uname}`);
        setTimeout(loadMainApp, 950);
      } else {
        showPopup('Invalid Credentials');
      }
    };

    // ---- Main App Logic ----
    function loadMainApp() {
      // Reload from localStorage for persistence
      leadsDB = getData('leads');
      followupsDB = getData('followups');
      const uname = currentUser.username;
      let html = `
        <div class="header-bar">
          <div class="user-name">${uname.charAt(0).toUpperCase() + uname.slice(1)}</div>
          <button onclick="logout()" class="logout-btn">Logout</button>
        </div>
      `;
      // Tabs by role
      if (currentUser.role === 'user') {
        html += renderTabs(['User', 'Add Lead', 'My Leads'], 'user');
      } else if (currentUser.role === 'sem') {
        html += renderTabs(['Add & Assign Lead', 'All Leads', 'Report'], 'sem');
      } else if (currentUser.role === 'developer') {
        html += renderTabs(['Add & Assign Lead', 'All Leads', 'Report', 'Admin'], 'developer');
      }
      document.getElementById('app-page').innerHTML = html;
      document.getElementById('app-page').style.display = 'block';
      // Show 1st tab for role
      handleTabSwitch(0);
    }
    // ... rest of your JavaScript code unchanged, as is ...

  </script>
</body>
</html>
